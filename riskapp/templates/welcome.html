{% extends "base.html" %}
{% block title %}Risk Y√∂netim Modeli{% endblock %}

{# Men√º + sidebar gizlensin, onboarding i√ßin ayrƒ± body class #}
{% block body_class %}auth onboarding{% endblock %}

{% block content %}
<style>
  /* === Bu sayfaya √∂zel: panel kabuƒüunu sƒ±fƒ±rla ve full onboarding kullan === */
  .panel{
    background: transparent;
    border: none;
    box-shadow: none;
    padding: 0;
  }

  /* === RiskApp Landing ≈üablonundan: renk & font hissi === */
  :root{
    --primary:#2866bd;
    --bg-light:#f6f7f8;
    --bg-dark:#121820;
    --txt:#0f141a;
    --muted:#556e91;
  }

  /* Body arka planƒ±nƒ± RiskApp landing‚Äôe yakla≈ütƒ±r */
  body.onboarding{
    background: radial-gradient(circle at 0% 0%, #dbeafe 0, #c4e4ff 40%, #bcdff7 60%, #c7f0f0 100%) !important;
    color: var(--txt);
  }

  /* ==== Layout ==== */
  .onboard-shell{
    min-height: calc(100vh - 72px);
    display:flex;
    align-items:center;
    justify-content:center;
    padding: 42px 16px;
  }

  .onboard-grid{
    max-width: 1200px;
    width: 100%;
    display:grid;
    grid-template-columns: minmax(0,1.05fr) minmax(0,0.95fr);
    gap: 56px;
    align-items:center;
  }

  @media (max-width: 960px){
    .onboard-shell{ padding-top: 24px; }
    .onboard-grid{
      grid-template-columns: 1fr;
      gap: 28px;
      text-align:center;
      justify-items:center;
    }
  }

  /* ==== Sol taraf: RiskApp landing ba≈ülƒ±k stiline yakla≈ütƒ±r ==== */
  .badge-row{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    margin-bottom: 14px;
  }
  .badge{
    display:inline-flex;
    align-items:center;
    gap:8px;
    height: 30px;
    padding: 0 12px;
    border-radius: 999px;
    font-size: 11px;
    font-weight: 800;
    letter-spacing:.12em;
    text-transform: uppercase;
    border: 1px solid rgba(40,102,189,.22);
    background: rgba(40,102,189,.10);
    color: var(--primary);
  }
  .badge.teal{
    border-color: rgba(13,148,136,.22);
    background: rgba(13,148,136,.10);
    color: #0f766e;
  }

  .onboard-left-title{
    font-size: clamp(2.8rem, 5.4vw, 4.2rem);
    line-height:1.05;
    font-weight: 900;
    letter-spacing:-.045em;
    margin: 0 0 14px;
    color: #0f141a;
  }
  .onboard-left-title .accent{ color: var(--primary); }

  .onboard-left-sub{
    max-width: 560px;
    font-size: 1.05rem;
    color: var(--muted);
    line-height: 1.75;
    margin-bottom: 18px;
    font-weight: 500;
  }

  .feature-row{
    display:flex;
    flex-wrap:wrap;
    gap:14px;
    margin-top: 10px;
  }
  .feature-card{
    display:flex;
    align-items:center;
    gap: 12px;
    padding: 14px;
    border-radius: 16px;
    background: rgba(255,255,255,.75);
    border: 1px solid rgba(15,23,42,.08);
    box-shadow: 0 10px 20px rgba(2,6,23,.05);
    width: 100%;
    max-width: 310px;
    backdrop-filter: blur(10px);
  }
  .feature-icon{
    width: 42px; height: 42px;
    border-radius: 12px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight: 900;
    color: var(--primary);
    background: rgba(40,102,189,.12);
  }
  .feature-icon.teal{
    color:#0f766e;
    background: rgba(13,148,136,.12);
  }
  .feature-title{
    margin:0;
    font-size: 14px;
    font-weight: 900;
    color:#0f141a;
  }
  .feature-sub{
    margin:2px 0 0;
    font-size: 12px;
    color: var(--muted);
    font-weight: 600;
  }

  @media (max-width: 960px){
    .onboard-left-sub{
      margin-left:auto; margin-right:auto;
    }
    .badge-row{ justify-content:center; }
    .feature-row{ justify-content:center; }
  }

  /* ==== Saƒü taraf: Phone mockup (RiskApp landing gibi 3D) ==== */
  .onboard-right{ display:flex; justify-content:center; }

  .phone-shadow{
    box-shadow: 0 50px 100px -20px rgba(40, 102, 189, 0.15),
                0 30px 60px -30px rgba(0, 0, 0, 0.30);
  }

  .phone-frame{
    width: 320px;
    height: 640px;
    background: #0f141a;
    border-radius: 3.5rem;
    padding: 12px;
    border: 8px solid #1a1f26;
    position:relative;
    overflow:hidden;
  }
  @media (max-width: 480px){
    .phone-frame{ width: 270px; height: 560px; }
  }

  .phone-notch{
    position:absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 132px;
    height: 22px;
    background: #1a1f26;
    border-radius: 0 0 16px 16px;
    z-index: 20;
  }

  .phone-screen{
    width: 100%;
    height: 100%;
    background: #ffffff;
    border-radius: 2.8rem;
    overflow:hidden;
    display:flex;
    flex-direction:column;
  }

  /* Header art (landing‚Äôdeki abstract gradient hissi) */
  .phone-art{
    height: 45%;
    position:relative;
    overflow:hidden;
  }
  .abstract-gradient{
    position:absolute;
    inset:0;
    background: linear-gradient(225deg, #2866bd 0%, #a1c4fd 50%, #c2e9fb 100%);
  }
  .phone-art::after{
    content:"";
    position:absolute;
    inset:0;
    background: rgba(0,0,0,.10);
  }
  .phone-icon-1, .phone-icon-2{
    position:absolute;
    color:#fff;
    opacity:.38;
    font-size: 56px;
    z-index: 5;
    user-select:none;
  }
  .phone-icon-1{ top: 34px; left: 26px; }
  .phone-icon-2{ bottom: 26px; right: 22px; font-size: 74px; opacity:.22; }

  .phone-bottom{
    flex:1;
    padding: 22px 20px 26px;
    background: #fff;
    display:flex;
    flex-direction:column;
    justify-content:flex-end;
    gap: 14px;
  }

  .phone-title{
    font-size: 22px;
    font-weight: 900;
    letter-spacing: -0.02em;
    margin:0;
    color:#0f141a;
  }
  .phone-text{
    margin:0;
    font-size: 13px;
    line-height: 1.6;
    color: var(--muted);
    font-weight: 600;
  }

  .phone-dots{
    display:flex;
    gap: 6px;
    margin-top: 8px;
  }
  .phone-dot{
    width: 6px;
    height: 6px;
    border-radius: 999px;
    background: #e5e7eb;
  }
  .phone-dot.active{
    width: 28px;
    height: 6px;
    border-radius: 999px;
    background: var(--primary);
  }

  .phone-actions{
    display:flex;
    flex-direction:column;
    gap: 10px;
    margin-top: 10px;
  }

  /* ‚úÖ D√úZELTME: "Giri≈ü Yap" yazƒ±sƒ± her ko≈üulda beyaz kalsƒ±n */
  .phone-btn-primary{
    display:flex;
    align-items:center;
    justify-content:center;
    padding: 14px 12px;
    border-radius: 14px;
    background: var(--primary);
    color:#fff !important;              /* <-- burada */
    font-weight: 900;
    text-decoration:none;
    box-shadow: 0 12px 24px rgba(40,102,189,.20);
    transition: transform .12s ease, filter .12s ease;
  }
  .phone-btn-primary:hover{
    filter: brightness(.96);
    transform: scale(1.02);
    text-decoration:none;
    color:#fff !important;              /* <-- hover‚Äôda da garanti */
  }

  .phone-btn-ghost{
    display:flex;
    align-items:center;
    justify-content:center;
    padding: 14px 12px;
    border-radius: 14px;
    background: transparent;
    color:#0f141a;
    font-weight: 900;
    text-decoration:none;
    border: 1px solid rgba(15,23,42,.10);
    transition: background .12s ease;
  }
  .phone-btn-ghost:hover{
    background: rgba(2,6,23,.04);
    text-decoration:none;
  }

  /* Glass floating stat (landing‚Äôdeki overlay kart hissi) */
  .glass-card{
    background: rgba(255,255,255,0.80);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255,255,255,0.35);
    box-shadow: 0 18px 40px rgba(2,6,23,.18);
  }
  .float-stat{
    position:absolute;
    left: -56px;
    bottom: 88px;
    width: 190px;
    padding: 14px 14px;
    border-radius: 18px;
    display:none;
  }
  @media (min-width: 1200px){
    .float-stat{ display:block; }
  }
  .stat-top{
    display:flex; align-items:center; gap:8px;
    font-size: 10px;
    font-weight: 900;
    color: rgba(2,6,23,.55);
    letter-spacing:.12em;
    text-transform:uppercase;
  }
  .pulse-dot{
    width:8px; height:8px; border-radius:999px;
    background:#22c55e;
    box-shadow: 0 0 0 6px rgba(34,197,94,.15);
    animation: pulse 1.4s infinite ease-in-out;
  }
  @keyframes pulse{
    0%,100%{ transform: scale(1); opacity: 1; }
    50%{ transform: scale(1.15); opacity: .65; }
  }
  .stat-value{
    display:flex; align-items:flex-end; gap:8px;
    margin-top: 10px;
  }
  .stat-value .num{
    font-size: 26px;
    font-weight: 900;
    color:#0f141a;
    line-height:1;
  }
  .stat-value .pct{
    font-size: 12px;
    font-weight: 900;
    color:#22c55e;
    margin-bottom: 2px;
  }
  .stat-bar{
    margin-top: 10px;
    width:100%;
    height: 6px;
    border-radius: 999px;
    background:#e5e7eb;
    overflow:hidden;
  }
  .stat-bar > div{
    width: 68%;
    height:100%;
    background: var(--primary);
  }
</style>

<div class="onboard-shell">
  <div class="onboard-grid">

    <!-- Sol taraf: RiskApp landing hissi -->
    <div class="onboard-left">
      <div class="badge-row">
        <div class="badge">ISO 31000</div>
        <div class="badge teal">RPN MANAGEMENT</div>
      </div>

      <h1 class="onboard-left-title">
        Risk Y√∂netim <span class="accent">Modeli.</span>
      </h1>

      <p class="onboard-left-sub">
        Kurumunun t√ºm risklerini tek bir modern panelde y√∂net.
        Onboarding ekranƒ±ndan; risk kaydƒ±, deƒüerlendirme ve raporlamaya
        kadar s√ºreci adƒ±m adƒ±m ke≈üfet.
      </p>

      <div class="feature-row">
        <div class="feature-card">
          <div class="feature-icon">üìà</div>
          <div>
            <p class="feature-title">Ger√ßek Zamanlƒ±</p>
            <p class="feature-sub">Anlƒ±k Risk Analitiƒüi</p>
          </div>
        </div>
        <div class="feature-card">
          <div class="feature-icon teal">üìÑ</div>
          <div>
            <p class="feature-title">Otomatik Rapor</p>
            <p class="feature-sub">Tek Tƒ±kla PDF Export</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Saƒü taraf: RiskApp 3D telefon + i√ßerik (mevcut link √∂zelliklerin korunuyor) -->
    <div class="onboard-right" style="position:relative;">
      <div class="phone-frame phone-shadow">
        <div class="phone-notch"></div>

        <div class="phone-screen">
          <div class="phone-art">
            <div class="abstract-gradient"></div>
            <div class="phone-icon-1">üõ°Ô∏è</div>
            <div class="phone-icon-2">‚óî</div>
          </div>

          <div class="phone-bottom">
            <div>
              <h2 class="phone-title">RiskApp'e Ho≈ü Geldiniz</h2>
              <p class="phone-text">
                Risklerini kaydet, √∂nlemlerini planla ve y√∂netim i√ßin
                hazƒ±r PDF raporlar √ºret. Ba≈ülamak i√ßin hesabƒ±nla giri≈ü yap
                ya da birka√ß adƒ±mda kayƒ±t ol.
              </p>

              <div class="phone-dots">
                <div class="phone-dot active"></div>
                <div class="phone-dot"></div>
                <div class="phone-dot"></div>
              </div>
            </div>

            <div class="phone-actions">
              <a href="{{ url_for('login') }}" class="phone-btn-primary">
                Giri≈ü Yap
              </a>
              <a href="{{ url_for('setup_step1') }}" class="phone-btn-ghost">
                Kayƒ±t Ol
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- Floating stat card (desktop overlay) -->
      <div class="float-stat glass-card">
        <div class="stat-top">
          <span class="pulse-dot"></span>
          <span>LIVE RISK INDEX</span>
        </div>
        <div class="stat-value">
          <span class="num">84.2</span>
          <span class="pct">‚Üë 12%</span>
        </div>
        <div class="stat-bar"><div></div></div>
      </div>
    </div>

  </div>
</div>

{% endblock %}

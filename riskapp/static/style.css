/* =====================================================================
.btn:active{ transform: translateY(1px) }
.btn:disabled{ opacity:.6; cursor: not-allowed }


.btn-primary{ background: var(--primary); color: #08112b; border-color: color-mix(in oklab, var(--primary) 50%, var(--line)); }
.btn-success{ background: var(--success); color: #051b10; border-color: color-mix(in oklab, var(--success) 50%, var(--line)); }
.btn-danger { background: var(--danger); color: #fff; border-color: color-mix(in oklab, var(--danger) 55%, var(--line)); }


/* Focus ring */
:where(a, button, .btn, .input, textarea, select):focus-visible{
outline: 2px solid transparent; outline-offset: 2px;
box-shadow: 0 0 0 3px color-mix(in oklab, var(--ring) var(--ring-alpha), transparent), 0 4px 22px color-mix(in oklab, var(--ring) 22%, transparent);
border-color: var(--ring);
}


/* Light buttons */
html[data-theme="light"] .btn{ background: linear-gradient(180deg,#ffffff,#f6f8ff); color:#0f182d; border-color:#e6ebf4; box-shadow: inset 0 0 0 1px rgba(255,255,255,.95), 0 8px 18px rgba(13,19,33,.06); }
html[data-theme="light"] .btn-primary{ background: linear-gradient(180deg,#ffd24d,#f7bf2a); color:#0a1228; border-color: transparent; text-shadow: 0 1px 0 rgba(255,255,255,.35); }
html[data-theme="light"] .btn-success{ background:#22c55e; color:#072417 }
html[data-theme="light"] .btn-danger { background:#ef4444; color:#fff1f1 }


/* ===========================
Forms
=========================== */
label{ display:block; margin:8px 0 6px 2px; color: color-mix(in oklab, var(--text) 86%, var(--muted)); font-size:.95rem; font-weight:700 }
.input, textarea, select{ width:100%; background:#0f172a; border:1px solid #243042; color:var(--text); padding:12px 12px; border-radius:12px; font-size: var(--fs-3); transition: border-color .15s ease, box-shadow .15s ease, background .18s ease; }
textarea{ resize: vertical; min-height: 120px }
.input:focus-visible, textarea:focus-visible, select:focus-visible{ outline:none; border-color: var(--ring); box-shadow: 0 0 0 3px color-mix(in oklab, var(--ring) 25%, transparent) }
.input.is-error, textarea.is-error, select.is-error{ border-color: var(--danger); box-shadow: 0 0 0 3px color-mix(in oklab, var(--danger) 24%, transparent) }
.input.is-valid, textarea.is-valid, select.is-valid{ border-color: var(--success); box-shadow: 0 0 0 3px color-mix(in oklab, var(--success) 22%, transparent) }


html[data-theme="light"] .input, html[data-theme="light"] textarea, html[data-theme="light"] select{ background:#ffffff; border:1px solid #e6ebf4; color:#0a1328 }
html[data-theme="light"] label{ color:#2a3553 }


/* Helpers */
.input.has-icon, textarea.has-icon{ padding-left: 40px; background-position: 12px center; background-repeat: no-repeat; }


/* ===========================
Tables
=========================== */
.table{ width:100%; border-collapse:separate; border-spacing:0; }
.table th,.table td{ border-bottom:1px solid var(--line); padding:12px 10px; text-align:left; }
.table th{ font-size:.82rem; letter-spacing:.06em; text-transform:uppercase; color:var(--muted) }
.table tr:hover td{ background: color-mix(in oklab, var(--text) 6%, transparent) }
html[data-theme="light"] .table th,.table td{ border-bottom-color:#e6ebf4 }


/* Sticky header (optional) */
.table thead th{ position: sticky; top: 0; backdrop-filter: blur(4px); background: color-mix(in oklab, var(--card) 90%, transparent); z-index:1 }


/* ===========================
Badges & Alerts
=========================== */
.badge{ padding:4px 10px; border-radius:999px; font-size:.8rem; font-weight:700; border:1px solid var(--line); background:#0f172a; color:var(--text); letter-spacing:.02em; box-shadow: inset 0 0 0 1px rgba(255,255,255,.05) }
html[data-theme="light"] .badge{ background:#fff7df; border-color:#ffe3a1; color:#3a2c0e }


.flash{ padding:12px 14px; border-radius:12px; margin-bottom:12px; backdrop-filter: saturate(110%) blur(2px); border:1px solid color-mix(in oklab, var(--line) 85%, transparent) }
.flash.success{ background:#052e1c; color:#b7f3cc; border-color:#164e3a }
.flash.danger { background:#3a0b0b; color:#fbbbbb; border-color:#7f1d1d }
.flash.info { background:#0b1220; color:#cfe8ff; border-color:#1e3a5f }


html[data-theme="light"] .flash{ border:1px solid #ffe3a1; color:#3a2c0e }
html[data-theme="light"] .flash.success{ background:linear-gradient(180deg,#eafff4,#d8ffee); color:#073a2a; border-color:#baffdf }
html[data-theme="light"] .flash.danger { background:linear-gradient(180deg,#ffefef,#ffe3e3); color:#5a1c1c; border-color:#ffc9c9 }
html[data-theme="light"] .flash.info { background:linear-gradient(180deg,#f5f9ff,#eef4ff); color:#17223a; border-color:#dbe6ff }


/* ===========================
Grid helpers
=========================== */
.grid{ display:grid; gap: var(--s-4) }
.grid-2{ grid-template-columns: repeat(2, minmax(0,1fr)) }
.grid-3{ grid-template-columns: repeat(3, minmax(0,1fr)) }
@container (max-width: 760px){ .grid-2{ grid-template-columns: 1fr } .grid-3{ grid-template-columns: 1fr 1fr } }
@media (max-width: 980px){ .grid-3{ grid-template-columns: 1fr 1fr } }


/* ===========================
KPI cards (dashboard)
=========================== */
.kpis{ display:grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap: var(--s-4); }
@media (max-width: 980px){ .kpis{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
.kpi{ display:flex; align-items:center; justify-content:space-between; gap:12px; padding:14px 16px; border:1px solid var(--line); border-radius:12px; background: var(--card); backdrop-filter: var(--blur); box-shadow: var(--elev-1) }
.kpi .label{ font-weight:900; letter-spacing:.2px; font-size: var(--fs-2); color: var(--muted) }
.kpi .value{ font-weight:900; font-size: clamp(18px, 1rem + 1.2vw, 28px) }


/* ===========================
Risk Matrix sample
=========================== */
.matrix{ display:grid; grid-template-columns: repeat(5,1fr); gap: 6px }
.cell{ padding:12px; border-radius:10px; text-align:center; background:#0b1220; border:1px solid #1f2a3a; color:var(--text); transition: transform .18s ease, box-shadow .18s ease; }
.cell:hover{ transform: translateY(-1px); box-shadow: 0 6px 20px rgba(0,0,0,.28) }
.score-low{ background:#064e3b }
.score-mid{ background:#78350f }
.score-high{ background:#7f1d1d }
html[data-theme="light"] .cell{ background:#ffffff; color:#0a1328; border-color:#e6ebf4 }
html[data-theme="light"] .score-low{ background:#d1fae5 }
html[data-theme="light"] .score-mid{ background:#fde68a }
html[data-theme="light"] .score-high{ background:#fecaca }
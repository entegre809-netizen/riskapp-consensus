/* static/css/costs.css */
/* RiskApp Cost Management UI Upgrade (Bootstrap markup, Tailwind-ish look) */

:root{
  --primary: #245d8f;
  --bg-light: #f6f7f8;
  --bg-dark: #13191f;

  --txt: rgba(15,23,42,.92);
  --muted: rgba(15,23,42,.58);

  --card: rgba(255,255,255,.72);
  --card-border: rgba(36,93,143,.10);

  --shadow: 0 14px 40px -26px rgba(2,6,23,.45);
  --shadow-soft: 0 10px 30px -22px rgba(2,6,23,.35);

  --r-lg: 18px;
  --r-md: 14px;
}

.dark,
[data-theme="dark"]{
  --txt: rgba(248,250,252,.92);
  --muted: rgba(248,250,252,.62);

  --card: rgba(19,25,31,.80);
  --card-border: rgba(255,255,255,.10);

  --shadow: 0 18px 55px -34px rgba(0,0,0,.85);
  --shadow-soft: 0 12px 36px -28px rgba(0,0,0,.70);
}

/* ===== Page wrapper ===== */
.costs-page{
  background: var(--bg-light);
  min-height: 100%;
}

.dark .costs-page,
[data-theme="dark"] .costs-page{
  background: var(--bg-dark);
}

/* Make bootstrap container feel like “app canvas” */
.costs-page .container{
  max-width: 1200px;
}

/* ===== Glass Card ===== */
.glass-card{
  background: var(--card);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid var(--card-border);
  border-radius: var(--r-lg);
  box-shadow: var(--shadow-soft);
}

/* Bootstrap card integration */
.costs-page .card{
  border: 0 !important;
  border-radius: var(--r-lg) !important;
  overflow: hidden;
  background: transparent;
}

.costs-page .card.glass-card{
  overflow: hidden;
}

.costs-page .card-header{
  background: transparent !important;
  border-bottom: 1px solid rgba(15,23,42,.08);
  padding: 14px 16px;
}

.dark .costs-page .card-header,
[data-theme="dark"] .costs-page .card-header{
  border-bottom-color: rgba(255,255,255,.10);
}

.costs-page .card-body{
  padding: 16px;
}

/* ===== Header area ===== */
.page-head{
  display:flex;
  flex-wrap:wrap;
  gap:1rem;
  align-items:flex-end;
  justify-content:space-between;
  margin-bottom: 1rem;
}

.page-head h2{
  font-weight: 900;
  letter-spacing: -0.02em;
  color: var(--txt);
}

.page-sub{
  color: var(--muted);
  font-weight: 500;
  max-width: 62ch;
}

/* ===== FX panel (top right panel in tailwind design) ===== */
.fx-panel{
  border: 1px solid var(--card-border);
  background: var(--card);
  border-radius: var(--r-lg);
  padding: .9rem;
  box-shadow: var(--shadow-soft);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

/* align small labels */
.fx-panel .small.text-muted{
  color: var(--muted) !important;
}

/* ===== Chips (KPI pills) ===== */
.chip{
  display:inline-flex;
  align-items:center;
  gap:.45rem;
  padding: .30rem .75rem;
  border-radius: 999px;
  border: 1px solid rgba(36,93,143,.18);
  background: rgba(36,93,143,.06);
  font-size: .84rem;
  color: rgba(36,93,143,.90);
  white-space: nowrap;
}

.dark .chip,
[data-theme="dark"] .chip{
  border-color: rgba(36,93,143,.35);
  background: rgba(36,93,143,.14);
  color: rgba(226,232,240,.92);
}

#liveTotal, #liveAnnual, #liveTotalBase, #liveAnnualBase,
#liveTotalInline, #liveAnnualInline{
  font-variant-numeric: tabular-nums;
  white-space: nowrap;
}

/* ===== Form controls: subtle tailwind feel ===== */
.costs-page .form-control,
.costs-page .form-select,
.costs-page .input-group-text{
  border-radius: 14px;
  border-color: rgba(15,23,42,.12);
}

.dark .costs-page .form-control,
.dark .costs-page .form-select,
.dark .costs-page .input-group-text,
[data-theme="dark"] .costs-page .form-control,
[data-theme="dark"] .costs-page .form-select,
[data-theme="dark"] .costs-page .input-group-text{
  border-color: rgba(255,255,255,.12);
  background-color: rgba(2,6,23,.22);
  color: rgba(248,250,252,.92);
}

.costs-page .form-control:focus,
.costs-page .form-select:focus{
  box-shadow: 0 0 0 .2rem rgba(36,93,143,.15) !important;
  border-color: rgba(36,93,143,.55) !important;
}

/* Buttons: make them “app-y” without rewriting bootstrap */
.costs-page .btn{
  border-radius: 14px;
  font-weight: 700;
}

.costs-page .btn-primary{
  background: var(--primary);
  border-color: var(--primary);
  box-shadow: 0 14px 34px -22px rgba(36,93,143,.7);
}

.costs-page .btn-primary:hover{
  filter: brightness(1.02);
  transform: translateY(-1px);
}

.costs-page .btn-outline-primary{
  border-color: rgba(36,93,143,.45);
  color: rgba(36,93,143,.95);
}

.dark .costs-page .btn-outline-primary,
[data-theme="dark"] .costs-page .btn-outline-primary{
  color: rgba(226,232,240,.92);
  border-color: rgba(36,93,143,.55);
}

.btn-icon{
  width: 34px;
  height: 34px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:0;
  border-radius: 12px;
}

/* ===== Template toolbar ===== */
.template-toolbar{
  display:flex;
  gap:.75rem;
  align-items:center;
  justify-content:space-between;
  flex-wrap:wrap;
  margin-bottom: .9rem;
}

.tpl-badge{
  font-size:.74rem;
  font-weight:900;
  letter-spacing: .02em;
  padding:.18rem .55rem;
  border-radius:999px;
  border:1px solid rgba(15,23,42,.10);
  background: rgba(15,23,42,.03);
  color: rgba(15,23,42,.60);
}

.dark .tpl-badge,
[data-theme="dark"] .tpl-badge{
  border-color: rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: rgba(255,255,255,.75);
}

/* ===== Template card ===== */
.template-card{
  position: relative;
  border: 1px solid var(--card-border);
  border-radius: var(--r-lg);
  background: var(--card);
  padding: .95rem;
  transition: transform .10s ease, box-shadow .18s ease, border-color .18s ease, background .18s ease;
  box-shadow: var(--shadow-soft);
}

/* left accent bar (tailwind card look) */
.template-card::before{
  content:"";
  position:absolute;
  left:0;
  top:12px;
  bottom:12px;
  width: 4px;
  border-radius: 999px;
  background: var(--accent, rgba(36,93,143,.85));
  opacity: .95;
}

.template-card:hover{
  border-color: rgba(36,93,143,.25);
  box-shadow: var(--shadow);
  transform: translateY(-1px);
}

/* category-based accent */
.template-card[data-category="İş Gücü"]{ --accent: rgba(36,93,143,.90); }
.template-card[data-category="Yazılım"]{ --accent: rgba(59,130,246,.95); }
.template-card[data-category="Ekipman"]{ --accent: rgba(100,116,139,.95); }
.template-card[data-category="Eğitim"]{ --accent: rgba(245,158,11,.95); }
.template-card[data-category="Hizmet"]{ --accent: rgba(34,197,94,.95); }
.template-card[data-category="Operasyon"]{ --accent: rgba(147,51,234,.95); }

.template-meta{
  font-size: .78rem;
  color: var(--muted);
  margin-top: .10rem;
}

/* template action cluster */
.tpl-actions{
  display:flex;
  gap:.40rem;
  align-items:center;
  flex-wrap:wrap;
  justify-content:flex-end;
}

/* soften action buttons inside templates */
.template-card .btn{
  border-radius: 12px;
}

/* ===== Muted hint ===== */
.muted-hint{
  font-size:.88rem;
  color: var(--muted);
}

/* ===== Table styling (tailwind-ish) ===== */
.costs-page .table-responsive{
  border-radius: var(--r-lg);
  overflow-x: auto;   /* scroll geri gelsin */
  overflow-y: hidden; /* dikey taşmayı kırp */
}


#costTable{
  margin-bottom: 0;
}

#costTable thead{
  background: rgba(15,23,42,.03);
}

.dark #costTable thead,
[data-theme="dark"] #costTable thead{
  background: rgba(255,255,255,.06);
}

#costTable thead th{
  font-size: 10px;
  font-weight: 900;
  letter-spacing: .12em;
  text-transform: uppercase;
  color: var(--muted);
  padding: 12px 14px;
  border-bottom: 1px solid rgba(15,23,42,.08);
}

.dark #costTable thead th,
[data-theme="dark"] #costTable thead th{
  border-bottom-color: rgba(255,255,255,.10);
}

#costTable tbody td{
  padding: 12px 14px;
  border-top-color: rgba(15,23,42,.06);
}

.dark #costTable tbody td,
[data-theme="dark"] #costTable tbody td{
  border-top-color: rgba(255,255,255,.08);
}

#costTable tbody tr.cost-row:hover{
  background: rgba(15,23,42,.02);
}

.dark #costTable tbody tr.cost-row:hover,
[data-theme="dark"] #costTable tbody tr.cost-row:hover{
  background: rgba(255,255,255,.04);
}

#costTable tfoot th,
#costTable tfoot td{
  padding: 12px 14px;
  border-top: 1px solid rgba(15,23,42,.08);
  background: rgba(15,23,42,.03);
}

.dark #costTable tfoot th,
.dark #costTable tfoot td,
[data-theme="dark"] #costTable tfoot th,
[data-theme="dark"] #costTable tfoot td{
  border-top-color: rgba(255,255,255,.10);
  background: rgba(255,255,255,.06);
}

/* ===== Sorting indicator ===== */
.sortable{
  user-select:none;
}

.sortable:after{
  content:" ⇅";
  opacity:.35;
  font-weight:900;
  font-size:.90em;
}

.sortable[data-sortdir="asc"]:after{
  content:" ↑";
  opacity:.75;
}

.sortable[data-sortdir="desc"]:after{
  content:" ↓";
  opacity:.75;
}

/* ===== Misc ===== */
.actions-wrap{
  display:flex;
  gap:.45rem;
  justify-content:flex-end;
}
.costs-page .text-muted{
  color: var(--muted) !important;
}
/* ==========================================================
   Costs page — Dark mode fixes (base.html data-theme="dark")
   ========================================================== */

/* Genel zemin / yazı */
[data-theme="dark"] .costs-page{
  color: rgba(226,232,240,.92);
}

/* Glass card koyu cam */
[data-theme="dark"] .costs-page .glass-card{
  background: linear-gradient(
    180deg,
    rgba(255,255,255,.06),
    rgba(255,255,255,.03)
  );
  border: 1px solid rgba(255,255,255,.10);
  box-shadow: 0 18px 50px rgba(0,0,0,.35);
}

/* Card header kontrast */
[data-theme="dark"] .costs-page .card-header{
  background: rgba(255,255,255,.04);
  border-bottom: 1px solid rgba(255,255,255,.10);
  color: rgba(226,232,240,.92);
}

/* FX panel */
[data-theme="dark"] .costs-page .fx-panel{
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.10);
}

/* Chip */
[data-theme="dark"] .costs-page .chip{
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.10);
  color: rgba(226,232,240,.92);
}

/* ----------------------------------------------------------
   Form controls (Bootstrap)
   ---------------------------------------------------------- */
[data-theme="dark"] .costs-page .form-control,
[data-theme="dark"] .costs-page .form-select,
[data-theme="dark"] .costs-page .input-group-text{
  background: rgba(15,23,42,.55);
  border: 1px solid rgba(255,255,255,.10);
  color: rgba(226,232,240,.92);
}

[data-theme="dark"] .costs-page .form-control::placeholder{
  color: rgba(226,232,240,.45);
}

[data-theme="dark"] .costs-page .form-control:focus,
[data-theme="dark"] .costs-page .form-select:focus{
  box-shadow: 0 0 0 .25rem rgba(34,115,195,.18);
  border-color: rgba(34,115,195,.40);
}

/* Input-group divider */
[data-theme="dark"] .costs-page .input-group-text{
  color: rgba(226,232,240,.70);
}

/* ----------------------------------------------------------
   Table (Bootstrap table white-body fix)
   ---------------------------------------------------------- */
[data-theme="dark"] .costs-page .table-responsive{
  background: transparent;
}

[data-theme="dark"] .costs-page table.table{
  color: rgba(226,232,240,.92);
  --bs-table-bg: transparent;
  --bs-table-color: rgba(226,232,240,.92);
  --bs-table-border-color: rgba(255,255,255,.10);
}

/* thead */
[data-theme="dark"] .costs-page .table thead th{
  background: rgba(255,255,255,.05) !important;
  color: rgba(226,232,240,.75);
  border-bottom-color: rgba(255,255,255,.10);
}

/* tbody td -> beyazlığı kıran asıl darbe */
[data-theme="dark"] .costs-page .table tbody td{
  background: transparent !important;
  border-top-color: rgba(255,255,255,.06);
}

/* zebra + hover */
[data-theme="dark"] .costs-page .table tbody tr{
  background: rgba(255,255,255,.02);
}
[data-theme="dark"] .costs-page .table tbody tr:nth-child(even){
  background: rgba(255,255,255,.015);
}
[data-theme="dark"] .costs-page .table tbody tr:hover td{
  background: rgba(34,115,195,.12) !important;
}

/* tfoot */
[data-theme="dark"] .costs-page .table tfoot th{
  background: rgba(255,255,255,.04);
  border-top: 1px solid rgba(255,255,255,.10);
  color: rgba(226,232,240,.80);
}

/* Collapse açıklama satırı */
[data-theme="dark"] .costs-page .desc-row .collapse .p-3{
  background: rgba(15,23,42,.45);
  border-top: 1px solid rgba(255,255,255,.08);
}

/* ----------------------------------------------------------
   Buttons (outline’lar darkta sönük kalmasın)
   ---------------------------------------------------------- */
[data-theme="dark"] .costs-page .btn-outline-secondary{
  color: rgba(226,232,240,.85);
  border-color: rgba(255,255,255,.18);
}
[data-theme="dark"] .costs-page .btn-outline-secondary:hover{
  background: rgba(255,255,255,.06);
}

[data-theme="dark"] .costs-page .btn-outline-primary{
  color: rgba(180,220,255,.95);
  border-color: rgba(34,115,195,.40);
}
[data-theme="dark"] .costs-page .btn-outline-primary:hover{
  background: rgba(34,115,195,.16);
}

/* ----------------------------------------------------------
   Modals (Bootstrap modal beyaz kalıyor)
   ---------------------------------------------------------- */
[data-theme="dark"] .modal-content{
  background: rgba(15,23,42,.92);
  color: rgba(226,232,240,.92);
  border: 1px solid rgba(255,255,255,.10);
}
[data-theme="dark"] .modal-header{
  border-bottom: 1px solid rgba(255,255,255,.10);
}
[data-theme="dark"] .modal-footer{
  border-top: 1px solid rgba(255,255,255,.10);
}
[data-theme="dark"] .btn-close{
  filter: invert(1) grayscale(1);
}

/* küçük text */
[data-theme="dark"] .costs-page .text-muted{
  color: rgba(226,232,240,.60) !important;
}

/* ==========================================================
   FIX PACK — Table action buttons (edit/sil) + dark contrast
   (dosyanın EN ALTINA ekle)
   ========================================================== */

/* 1) Tablo aksiyon alanı: her zaman yatay ve görünür */
.costs-page .actions-wrap{
  display: inline-flex !important;
  align-items: center;
  justify-content: flex-end;
  gap: .45rem;
  flex-wrap: nowrap;
}

/* 2) Icon butonlar: bootstrap padding/line-height override */
.costs-page .btn-icon{
  width: 34px;
  height: 34px;
  display: inline-flex !important;
  align-items: center;
  justify-content: center;
  padding: 0 !important;
  line-height: 1 !important;
  border-radius: 12px;
}

/* 3) Flex içinde <form> bazen “uzayıp” bozar -> sıkılaştır */
.costs-page .actions-wrap form{
  margin: 0 !important;
  display: inline-flex !important;
}

/* 4) Glass card pseudo overlay varsa tıklamayı öldürmesin */
.costs-page .glass-card{ position: relative; }
.costs-page .glass-card::before,
.costs-page .glass-card::after{ pointer-events: none; }

/* 5) Dark mode: outline-danger/secondary kontrastını düzelt */
[data-theme="dark"] .costs-page .btn-outline-danger{
  color: rgba(255,190,190,.95);
  border-color: rgba(220,53,69,.45);
  background: rgba(220,53,69,.08);
}
[data-theme="dark"] .costs-page .btn-outline-danger:hover{
  background: rgba(220,53,69,.14);
}

[data-theme="dark"] .costs-page .btn-outline-secondary{
  color: rgba(226,232,240,.88);
  border-color: rgba(255,255,255,.18);
  background: rgba(255,255,255,.04);
}
[data-theme="dark"] .costs-page .btn-outline-secondary:hover{
  background: rgba(255,255,255,.08);
}
